#include <stdio.h>
#include <windows.h>
#include <time.h>
#include <conio.h>
#include "menu.h"

#define CaX 10	//41
#define CaY 15	//1
#define DeX 80
#define DeY 13
void Calendar(); //메인캘린더
void DrawC(); //캘린더그리기함수
void PrintAllC();//전체캘린더보기
void PrintDetailC_M();//세부캘린더 달 출력
void PrintDetailC_C();//세부캘린더 내용 출력
void D_Day();//D-Day, 과제기한
void AllDB();//전체캘린더DB

void MainMenu();//메인메뉴이동
void PrintContent();//내용출력
void PrintD_Day(); //D-Day 출력
void DBUp(); //DB 업데이트

void DrawM(); //월 출력
int MoveC(int * x, int * y); //캘린더 이동 자국

void gotoxy(int x, int y)
{
	COORD Pos = { x - 1, y - 1 };
	SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE), Pos);
}
int wherex()
{
	CONSOLE_SCREEN_BUFFER_INFO BufInfo;

	GetConsoleScreenBufferInfo(GetStdHandle(STD_OUTPUT_HANDLE), &BufInfo);
	return BufInfo.dwCursorPosition.X;
}
int wherey()
{
	CONSOLE_SCREEN_BUFFER_INFO BufInfo;

	GetConsoleScreenBufferInfo(GetStdHandle(STD_OUTPUT_HANDLE), &BufInfo);
	return BufInfo.dwCursorPosition.Y;
}


int rightleft = 0;
int month = 1;
int day[12] = { -1, -4, -4, 0, -2, -5, 0, -3, 1, -1, -4, 1 };
unsigned char a = 0xa6;
unsigned char b[12] = { '‡','┃','┌','┐','┘','└','├','┬','┤','┴','┼',' ' };

typedef struct
{
	int start[12];
	int end[12];
}Month;

Month Month_day = { {3, 6, 6, 2, 4, 7, 2, 5, 1, 3, 6, 1 }, {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31} };

char * detail_sort[12][31] = { 0 };

char * digit[20][5][4] =//0~9까지 출력할 정보
{
	{
		{ "■","■","■","■" },
		{ "■","  ","  ","■" },
		{ "■","  ","  ","■" },
		{ "■","  ","  ","■" },
		{ "■","■","■","■" }
	},
	{
		{ "  ","  ","■","  "},
		{ "  ","  ","■","  "},
		{ "  ","  ","■","  "},
		{ "  ","  ","■","  "},
		{ "  ","  ","■","  "}
	},
	{
		{ "■","■","■","■" },
		{ "  ","  ","  ","■" },
		{ "■","■","■","■" },
		{ "■","  ","  ","  " },
		{ "■","■","■","■" }
	},
	{
		{ "■","■","■","■" },
		{ "  ","  ","  ","■" },
		{ "■","■","■","■" },
		{ "  ","  ","  ","■" },
		{ "■","■","■","■" }
	},
	{
		{ "■","  ","  ","■" },
		{ "■","  ","  ","■" },
		{ "■","■","■","■" },
		{ "  ","  ","  ","■" },
		{ "  ","  ","  ","■" }
	},
	{
		{ "■","■","■","■" },
		{ "■","  ","  ","  " },
		{ "■","■","■","■" },
		{ "  ","  ","  ","■" },
		{ "■","■","■","■" },
	},
	{
		{ "■","■","■","■" },
		{ "■","  ","  ","  " },
		{ "■","■","■","■" },
		{ "■","  ","  ","■" },
		{ "■","■","■","■" }
	},
	{
		{ "■","■","■","■" },
		{ "■","  ","  ","■" },
		{ "  ","  ","  ","■" },
		{ "  ","  ","  ","■" },
		{ "  ","  ","  ","■" }
	},
	{
		{ "■","■","■","■" },
		{ "■","  ","  ","■" },
		{ "■","■","■","■" },
		{ "■","  ","  ","■" },
		{ "■","■","■","■" }
	},
	{
		{ "■","■","■","■" },
		{ "■","  ","  ","■" },
		{ "■","■","■","■" },
		{ "  ","  ","  ","■" },
		{ "  ","  ","  ","■" }
	},
	{
		{ "■","■","■","  " },
		{ "■","  ","■","  " },
		{ "■","  ","■","  " },
		{ "■","  ","■","  " },
		{ "■","■","■","  " }
	},
	{
		{ "  ","  ","■","  " },
		{ "  ","  ","■","  " },
		{ "  ","  ","■","  " },
		{ "  ","  ","■","  " },
		{ "  ","  ","■","  " },
	},
	{
		{ "■","■","■","  " },
		{ "  ","  ","■","  " },
		{ "■","■","■","  " },
		{ "■","  ","  ","  " },
		{ "■","■","■","  " }
	},
	{
		{ "■","■","■","  " },
		{ "  ","  ","■","  " },
		{ "■","■","■","  " },
		{ "  ","  ","■","  " },
		{ "■","■","■","  " },
	},
	{
		{ "■","  ","■","  " },
		{ "■","  ","■","  " },
		{ "■","■","■","  " },
		{ "  ","  ","■","  " },
		{ "  ","  ","■","  " },
	},
	{
		{ "■","■","■","  " },
		{ "■","  ","  ","  " },
		{ "■","■","■","  " },
		{ "  ","  ","■","  " },
		{ "■","■","■","  " },
	},
	{
		{ "■","■","■","  " },
		{ "■","  ","  ","  " },
		{ "■","■","■","  " },
		{ "■","  ","■","  " },
		{ "■","■","■","  " },
	},
	{
		{ "■","■","■","  " },
		{ "■","  ","■","  " },
		{ "  ","  ","■","  " },
		{ "  ","  ","■","  " },
		{ "  ","  ","■","  " },
	},
	{
		{ "■","■","■","  " },
		{ "■","  ","■","  " },
		{ "■","■","■","  " },
		{ "■","  ","■","  " },
		{ "■","■","■","  " },
	},
	{
		{ "■","■","■","  " },
		{ "■","  ","■","  " },
		{ "■","■","■","  " },
		{ "  ","  ","■","  " },
		{ "  ","  ","■","  " },
	}
};

